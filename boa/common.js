let _articles, _calendar, _pageSize = 15, _currentPage = 1, _currentBoard = -1, _events = []; function paginate(a, b, c) { return a.slice((c - 1) * b, c * b) } window.addEventListener("DOMContentLoaded", () => { let a = document.getElementById("boardList"), b = document.getElementById("content"), c = a.querySelector("li"); _articles = document.getElementById("articleList"), window.appendList = function (a) { let c = document.createElement("li"); c.innerText = a.Subject, c.setAttribute("seq", articles[_currentBoard].indexOf(a)), c.addEventListener("click", function () { b.innerHTML = articles[_currentBoard][this.getAttribute("seq")].Content, b.style.display = "initial" }), _articles.appendChild(c) }, window.prev = function () { if (8939 == _currentBoard) return void document.querySelector(".cld-rwd").click(); if (1 != _currentPage) { let a = paginate(articles[_currentBoard], _pageSize, --_currentPage); _articles.innerHTML = "", a.map(appendList) } }, window.next = function () { if (8939 == _currentBoard) return void document.querySelector(".cld-fwd").click(); if (!(articles[_currentBoard].length / _pageSize <= _currentPage)) { let a = paginate(articles[_currentBoard], _pageSize, ++_currentPage); _articles.innerHTML = "", a.map(appendList) } }, boards.forEach(c => { let d = document.createElement("li"); d.innerText = c.Name, d.setAttribute("seq", c.BoardId), d.addEventListener("click", function () { _currentPage = 1, _currentBoard = this.getAttribute("seq"), _articles.innerHTML = "", b.innerHTML = "", articles[_currentBoard] ? paginate(articles[_currentBoard], _pageSize, _currentPage).map(appendList) : _articles.innerHTML = "<li>\uB4F1\uB85D\uB41C \uAE00\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.</li>" }), a.appendChild(d) }), b.addEventListener("click", () => { b.style.display = "none" }), c.addEventListener("click", () => { if (1 > _events.length) for (let [a, b] of Object.entries(schedules)) for (let [a, c] of Object.entries(b)) c.forEach(a => { let b = ""; a.Name && (b = `[${a.Name}] `), a.Time && (b += `${a.Time} `), b = `${b}${a.Title}`; let c = { Date: new Date(a.Date), Title: b, Link: function () { alert(b) } }; _events.push(c) }); _currentBoard = 8939, _articles.innerHTML = "", _calendar = caleandar(_articles, _events) }), document.querySelector("#boardList").lastChild.click() });